---
layout:     post
title:      CSS3动画详解
subtitle:   CSS3学习
date:       2017-07-17
author:     Ywg
header-img: img/home-bg-o.jpg
catalog:    true
tags: CSS3
---

## 前言
CSS3动画包括transform、transition和animation这三个属性。
为了浏览器兼容，需要在属性前加上-webkit-、 -ms- 和 -moz- 前缀。

## transform
允许我们对元素可移动（translate）、旋转（rotate）、缩放（scale）、倾斜（skew）。

#### 2D变换

移动 | 描述
------------ | -------------
translateX(tx)  | 沿X轴方向移动 单位px
translateY(ty) | 沿Y轴方向移动
translate(tx,ty) | 沿X和Y轴方向移动

缩放 | 描述
------------ | -------------
scaleX(sx) | 沿X轴方向缩放即宽度缩放
scaleY(sy) | 沿Y轴方向缩放即高度缩放
scale(sx,sy) | 沿X和Y轴方向缩放即宽度和高度一起缩放, 一个参数则宽高缩放同等倍数

2D旋转 | 描述
------------ | -------------
rotate(angle) | 从原点（由 transform-origin 属性指定）开始顺时针方向旋转一个特定的角度 单位deg 负值则为逆时针旋转

倾斜 | 描述
------------ | -------------
skewX(angle) | 沿X轴方向以指定的角度倾斜 单位deg
skewY(angle) | 沿Y轴方向以指定的角度倾斜
skew(ax,ay) | 沿X轴和Y轴方向以指定的角度倾斜

矩阵 | 描述
------------ | -------------
matrix(a, c, b, d, tx, ty) | 定义 2D 转换，使用六个值的矩阵。matrix() 方法把所有 2D 转换方法组合在一起。matrix() 方法需要六个参数，包含数学函数，允许对元素进行旋转、缩放、移动以及倾斜。

#### 3D变换

3D移动 | 描述
------------ | -------------
translateZ(tz)  | 
translate3d(tx,ty,tz) | 

3D缩放 | 描述
------------ | -------------
scaleZ(sz)  | 
scale3d(sx,sy,sz) |  scale3d(1,1,sz)等同于scaleZ(sz)

3D旋转 | 描述
------------ | -------------
rotateX(angle) |
rotateY(angle) |
rotateZ(angle) |
rotate3d(x,y,z,angle) | rotate3d(1,0,0,a)等同于rotateX(a)、rotate3d(0,1,0,a)等同于rotateY(a)、rotate3d(0,0,1,a)等同于rotateZ(a)

3D矩阵 | 描述
------------ | -------------
matrix(a, c, b, d, tx, ty) | 定义 2D 转换，使用六个值的矩阵。matrix() 方法把所有 2D 转换方法组合在一起。matrix() 方法需要六个参数，包含数学函数，允许对元素进行旋转、缩放、移动以及倾斜。


#### 3D Transform属性

属性 | 描述
------------ | -------------
backface-visibility | 指定元素背面对于观察着是否可见 visible可见 hidden不可见(常用) 常见翻牌效果，我们不希望元素内容在背面可见。
perspective | 指定了观察者与z=0平面的距离，使具有三维位置变换的元素产生透视效果。
perspective-origin | 指定了观察者的位置 
transform-origin | 允许你改变被转换元素的位置。
transform-style | 指定该元素的子元素是（看起来）位于三维空间内，还是在该元素所在的平面内被扁平化。常用preserve-3d 3d模式
``` 
 transform-origin取值
 top = top center = center top = 50% 0
 right = right center = center right = 100%或(100% 50%)
 bottom = bottom center = center bottom = 50% 100%
 left = left center = center left = 0或(0 50%)
 center = center center = 50%或（50% 50%）
 top left = left top = 0 0
 right top = top right = 100% 0
 bottom right = right bottom = 100% 100%
 bottom left = left bottom = 0 100%
``` 

<iframe height='265' scrolling='no' title='gRyKyx' src='//codepen.io/ywg228/embed/gRyKyx/?height=265&theme-id=0&default-tab=css,result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/ywg228/pen/gRyKyx/'>gRyKyx</a> by Mr.Yang (<a href='https://codepen.io/ywg228'>@ywg228</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

## transition
给某种属性添加过渡效果
#### 属性
- transition-property css属性名
- transition-duration 过渡效果需要的时间，默认为0
- transition-timing-function 过渡效果的时间曲线，默认为ease
- transition-delay 过渡效果延迟时间，默认为0
- 简写形式：transition: property duration timing-function delay;

<iframe height='265' scrolling='no' title='MoRGge' src='//codepen.io/ywg228/embed/MoRGge/?height=265&theme-id=0&default-tab=css,result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/ywg228/pen/MoRGge/'>MoRGge</a> by Mr.Yang (<a href='https://codepen.io/ywg228'>@ywg228</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

#### JS检测过渡效果是否完成
当过渡效果完成时触发transitionend事件, 在WebKit下是webkitTransitionEnd
``` 
el.addEventListener("transitionend", function() {
  //执行动画结束后的操作
, false);
``` 

## animation + @keyframes
创建帧动画，元素从一种样式逐渐变化为另一种样式的效果。

#### 属性
- @keyframes 规定动画 后加动画名 "from" 和 "to"等同于 0% 和 100%。
- animation-name 动画名
- animation-duration 动画完成一周期需要的时间
- animation-timing-function 动画的速度曲线，默认为ease 
- animation-delay 动画延迟时间
- animation-iteration-count 动画播放的次数。默认是 1 循环播放为infinite
- animation-direction 设置动画在每次运行完后是反向运行还是重新回到开始位置重复运行。。默认为normal
- animation-play-state 设置画是否正在运行或暂停
- animation-fill-mode 指定动画执行前后如何为目标元素应用样式。

#### 例子
<iframe height='265' scrolling='no' title='LLvdaO' src='//codepen.io/ywg228/embed/LLvdaO/?height=265&theme-id=0&default-tab=css,result&embed-version=2' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'>See the Pen <a href='https://codepen.io/ywg228/pen/LLvdaO/'>LLvdaO</a> by Mr.Yang (<a href='https://codepen.io/ywg228'>@ywg228</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>

